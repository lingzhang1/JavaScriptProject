<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>motion</title>
	<style>
	#div1{
		width: 100px;
		height: 100px;
		background-color: orange;
		/*margin-top: 5px;*/
		position: absolute;
		top: 50px;
		left:600px;
	}
	span{
		width: 1px;height: 300px;background-color: #000;position: absolute;left:300px;top: 0px;
	}
	</style>
	<script>
		window.onload=function(){
			var oBtn=document.getElementById("btn1");
			var oDiv=document.getElementById("div1");
			var timer=null;
			//timer必须写在函数外面
			function startMove(iTarget){
				var oDiv=document.getElementById("div1");
				clearInterval(timer); //每次点击按钮都清除前一次定时器
				timer=setInterval(function(){
					var iSpeed=(iTarget-oDiv.offsetLeft)/8;
					//速度取整，当速度位小数时，计算机会默认取整，到时div停住
					// if (iSpeed>0) {
					// 	iSpeed=Math.ceil(iSpeed);
					// } else {
					// 	iSpeed=Math.floor(iSpeed);
					// }
					iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);
					if (oDiv.offsetLeft==iTarget) {
						clearInterval(timer);
						}
					else{
							oDiv.style.left=oDiv.offsetLeft+iSpeed+"px";
						} //关闭定时器和物快移动智能执行一个，用if-else隔开
						document.title=oDiv.offsetLeft+"iSpeed"+iSpeed;
				},30);
			}
			oBtn.onclick=function(){
				startMove(300);

			};
		};
		
	</script>
</head>
<body>
	<div id="div1"></div>
	<input type="button" value="开始运动" id="btn1">
	<span></span>
</body>
</html>