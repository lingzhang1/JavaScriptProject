<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ObjQuote</title>
<script>
	// var obj={
	// 	a:10
	// };
	// //浅拷贝
	// function copy(obj){
	// 	var newObj={};
	// 	for(var attr in obj){
	// 		newObj[attr]=obj[attr];
	// 	}
	// 	return newObj;
	// };
	// var obj2=copy(obj);
	// obj2.a=20;
	// alert(obj.a);//10

	var obj={
		a:{b:10}
	};
	//浅拷贝只拷贝了一层，b依然是引用
	function copy(obj){
		var newObj={};
		for(var attr in obj){
			newObj[attr]=obj[attr];
		}
		return newObj;
	};
	var obj2=copy(obj);
	//b依然为引用，修改后依然影响父级
	obj2.a.b=20;
	alert(obj.a.b);//20

	var obj={
		a:{
			b:{
				c:{
					d:{
						e:10
					}
				}
			}
		}
	};
	var obj2=deepCopy(obj);
	obj2.a.b.c.d.e=20;
	alert(obj.a.b.c.d.e);//10
	
	//深拷贝 递归, 完全避免子级对父级的影响
	function deepCopy(obj){
		var newObj={};
		if (typeof obj!="object") {
			return obj;
		}
		for(var attr in obj){
			newObj[attr]=deepCopy(obj[attr]);
		}
		return newObj;
	};
	

	//递归
	// function test(n){
	// 	if (n<1) {
	// 		console.trace();
	// 		return 1;
	// 	}
	// 	return n*test(n-1);
	// };
	// alert(test(5));
</script>
</head>
<body>
	
</body>
</html>